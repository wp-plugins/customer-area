function getLicenseControlInput(a){return a.find("input")}function getLicenseControlResultContainer(a){return a.find(".cuar-ajax-container > span")}function getLicenseControlAddOn(a){return getLicenseControlInput(a).data("addon")}function validateLicense(a,b){var c=getLicenseControlInput(b),d=getLicenseControlResultContainer(b);if(""==c.val().trim())return void d.html("");d.html(cuarAdminMessages.checking).removeClass().addClass("cuar-ajax-running"),c.prop("disabled",!0);var e={action:"cuar_validate_license",addon_id:getLicenseControlAddOn(b),license:c.val()};a.post(ajaxurl,e,function(a){c.prop("disabled",!1),d.removeClass().addClass(a.success?"cuar-ajax-success":"cuar-ajax-failure").html(a.message)},"json",function(){c.prop("disabled",!1),d.removeClass().addClass("cuar-ajax-failure").html(cuarAdminMessages.unreachableLicenseServerError)})}jQuery(document).ready(function(a){var b=a(".license-control");b.each(function(){var b=a(this);validateLicense(a,b),getLicenseControlInput(b).change(function(){validateLicense(a,b)})})});